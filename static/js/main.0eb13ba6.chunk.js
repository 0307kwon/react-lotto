(this["webpackJsonpreact-lotto"]=this["webpackJsonpreact-lotto"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(11),r=n.n(s),i=n(2),l=n(4),j=n(7),u=function e(t,n){Object(l.a)(this,e),this.id=t,this.numbers=n},b=1e3,N=6,d=1,o=45,O=2,m={RANK:1,WINNING_COUNT:6,MONEY:2e9},x={RANK:2,WINNING_COUNT:5,MONEY:3e7},h={RANK:3,WINNING_COUNT:5,MONEY:15e5},f={RANK:4,WINNING_COUNT:4,MONEY:5e4},v={RANK:5,WINNING_COUNT:3,MONEY:5e3},p={PAYMENT_FORM:{INVALID_PAYMENT:"\uc62c\ubc14\ub978 \uae08\uc561\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."},WINNING_NUMBERS_FORM:{HAS_DUPLICATED_NUMBER:"\uc911\ubcf5\uc778 \uc22b\uc790\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.",OUT_OF_RANGE:"\uc22b\uc790\ub294 ".concat(d,"\uc774\uc0c1 ").concat(o,"\uc774\ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4.")}},_={PAYMENT_INPUT:"payment-input",PAYMENT_SUBMIT:"payment-submit"},I=n(10),M=n.n(I),g=n(8),A=M.a.mark(E),R=function(e,t){return Math.round((1-Math.random())*(t-e))+e};function E(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return t.next=4,e++;case 4:t.next=1;break;case 6:case"end":return t.stop()}}),A)}var y=E(),T=function(e){return new Intl.NumberFormat("ko-KR").format(e)},S=function(e){return!/[^0-9]/g.test(e)},w=function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"publishLotteries",value:function(e){return Array(e/b).fill(0).map((function(){var e=y.next().value,t=function(e){for(var t=e.min,n=e.max,c=e.size,a=new Set;a.size<c;)a.add(R(t,n));return Object(g.a)(a)}({min:d,max:o,size:N});return new u(e,t)}))}}]),e}(),U=n(3),C=function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"getRankCount",value:function(e){var t,n=this,c=e.winningNumbers,a=e.bonusNumber,s=e.lotteries,r=(t={},Object(U.a)(t,m.RANK,0),Object(U.a)(t,x.RANK,0),Object(U.a)(t,h.RANK,0),Object(U.a)(t,f.RANK,0),Object(U.a)(t,v.RANK,0),t);return s.forEach((function(e){var t=n._getRank({winningNumbers:c,bonusNumber:a,lottery:e});t&&r[t]++})),r}},{key:"_getRank",value:function(e){var t,n,c=e.winningNumbers,a=e.bonusNumber,s=e.lottery,r=(t={},Object(U.a)(t,m.WINNING_COUNT,(function(){return m.RANK})),Object(U.a)(t,x.WINNING_COUNT,(function(e){return e?x.RANK:h.RANK})),Object(U.a)(t,f.WINNING_COUNT,(function(){return f.RANK})),Object(U.a)(t,v.WINNING_COUNT,(function(){return v.RANK})),t),i=s.numbers.includes(a);return null===(n=r[s.numbers.reduce((function(e,t){return c.includes(t)?++e:e}),0)])||void 0===n?void 0:n.call(r,i)}},{key:"getEarningRate",value:function(e,t){var n=t.length*b,c=this._calculateEarning(e,n)/n*100;return Number.isInteger(c)?c:c.toFixed(2)}},{key:"_calculateEarning",value:function(e,t){var n,c=(n={},Object(U.a)(n,m.RANK,m.MONEY),Object(U.a)(n,x.RANK,x.MONEY),Object(U.a)(n,h.RANK,h.MONEY),Object(U.a)(n,f.RANK,f.MONEY),Object(U.a)(n,v.RANK,v.MONEY),n);return Object.entries(e).reduce((function(e,t){var n=Object(i.a)(t,2),a=n[0],s=n[1];return e+c[a]*s}),-t)}}]),e}(),k=n(0),K=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],r=e.lotteries;return Object(k.jsxs)("section",{className:"mt-9",children:[Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsxs)("label",{className:"flex-auto my-0",children:["\ucd1d ",r.length,"\uac1c\ub97c \uad6c\ub9e4\ud558\uc600\uc2b5\ub2c8\ub2e4."]}),Object(k.jsx)("div",{className:"flex-auto d-flex justify-end pr-1",children:Object(k.jsxs)("label",{className:"switch",children:[Object(k.jsx)("input",{type:"checkbox",onChange:function(){s((function(e){return!e}))}}),Object(k.jsx)("span",{className:"text-base font-normal",children:"\ubc88\ud638\ubcf4\uae30"})]})})]}),Object(k.jsx)("ul",{className:"d-flex pl-0 ".concat(a?"flex-col":""),children:r.map((function(e){return Object(k.jsxs)("li",{className:"d-flex items-center",children:[Object(k.jsx)("span",{className:"mx-1 text-4xl",children:"\ud83c\udf9f\ufe0f"}),Object(k.jsx)("span",{className:"ml-3 ".concat(a?"":"d-none"),children:e.numbers.join(", ")})]},e.id)}))})]})},Y=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),j=l[0],u=l[1],b=e.isDisabled,N=e.isValidPayment,d=e.onMoneySubmit,o=e.paymentMinUnit;Object(c.useEffect)((function(){b||s("")}),[b]);return Object(k.jsxs)("form",{className:"mt-5",onSubmit:function(e){e.preventDefault(),N(a)?d(a):u(p.PAYMENT_FORM.INVALID_PAYMENT)},children:[Object(k.jsx)("label",{className:"mb-2 d-inline-block",htmlFor:_.PAYMENT_INPUT,children:"\uad6c\uc785\ud560 \uae08\uc561\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)("input",{id:_.PAYMENT_INPUT,className:"w-100 mr-2 pl-2",type:"text",placeholder:"\uad6c\uc785 \uae08\uc561 (".concat(o,"\uc6d0 \ub2e8\uc704)"),onChange:function(e){var t=e.target;if(S(t.value)){var n=t.value;s(n);var c=N(n)?"":p.PAYMENT_FORM.INVALID_PAYMENT;u(c)}},max:1e5,value:a,disabled:b}),Object(k.jsx)("button",{id:_.PAYMENT_SUBMIT,className:"btn btn-cyan",type:"submit",disabled:b,children:"\ud655\uc778"})]}),Object(k.jsx)("p",{children:j})]})},G=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(Array(N).fill("")),l=Object(i.a)(r,2),j=l[0],u=l[1],b=Object(c.useState)(""),m=Object(i.a)(b,2),x=m[0],h=m[1],f=Object(c.useState)(""),v=Object(i.a)(f,2),_=v[0],I=v[1],M=e.onWinningNumberSubmit,A=function(e){var t=e.target;if(S(t.value)&&!(t.value.length>O)){var n=Number(t.dataset.index),c=j.map((function(e,c){return c!==n?e:t.value}));u(c)}};return Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n=[].concat(Object(g.a)(j),[x]);n.every((function(e){return d<=Number(e)&&Number(e)<=o}))?(t=n,new Set(t).size===t.length?(I(""),s(!0),M(j.map((function(e){return Number(e)})),Number(x))):I(p.WINNING_NUMBERS_FORM.HAS_DUPLICATED_NUMBER)):I(p.WINNING_NUMBERS_FORM.OUT_OF_RANGE)},className:"mt-9",children:[Object(k.jsx)("label",{className:"flex-auto d-inline-block mb-3",children:"\uc9c0\ub09c \uc8fc \ub2f9\ucca8\ubc88\ud638 6\uac1c\uc640 \ubcf4\ub108\uc2a4 \ub118\ubc84 1\uac1c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{className:"mt-0 mb-3 text-center",children:"\ub2f9\ucca8 \ubc88\ud638"}),Object(k.jsx)("div",{children:j.map((function(e,t){return Object(k.jsx)("input",{onChange:A,"data-index":t,className:"winning-number mx-1 text-center",type:"text",value:e,min:d,max:o,required:!0,disabled:a},t)}))})]}),Object(k.jsxs)("div",{className:"bonus-number-container flex-grow",children:[Object(k.jsx)("h4",{className:"mt-0 mb-3 text-center",children:"\ubcf4\ub108\uc2a4 \ubc88\ud638"}),Object(k.jsx)("div",{className:"d-flex justify-center",children:Object(k.jsx)("input",{className:"bonus-number text-center",onChange:function(e){var t=e.target;S(t.value)&&(t.value.length>O||h(t.value))},type:"text",value:x,min:d,max:o,disabled:a,required:!0})})]})]}),Object(k.jsx)("p",{className:"mt-3",children:_}),Object(k.jsx)("button",{type:"submit",className:"open-result-modal-button mt-5 btn btn-cyan w-100",children:"\uacb0\uacfc \ud655\uc778\ud558\uae30"})]})},W=function(e){var t=e.isModalOpen,n=e.closeModal,c=e.children;return Object(k.jsx)("div",{className:"modal ".concat(t?"open":""),onClick:function(e){var t=e.target;t!==e.currentTarget?t.closest(".modal-close")&&n():n()},children:Object(k.jsxs)("div",{className:"modal-inner p-10",children:[Object(k.jsx)("div",{className:"modal-close",children:Object(k.jsx)("svg",{viewBox:"0 0 40 40",children:Object(k.jsx)("path",{className:"close-x",d:"M 10,10 L 30,30 M 30,10 L 10,30"})})}),c]})})},P=function(e){var t=e.winningResult,n=t.rankCount,c=t.earningRate;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:"text-center",children:"\ud83c\udfc6 \ub2f9\ucca8 \ud1b5\uacc4 \ud83c\udfc6"}),Object(k.jsx)("div",{className:"d-flex justify-center",children:Object(k.jsxs)("table",{className:"result-table border-collapse border border-black",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-center",children:[Object(k.jsx)("th",{className:"p-3",children:"\uc77c\uce58 \uac2f\uc218"}),Object(k.jsx)("th",{className:"p-3",children:"\ub2f9\ucca8\uae08"}),Object(k.jsx)("th",{className:"p-3",children:"\ub2f9\ucca8 \uac2f\uc218"})]})}),Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{className:"text-center",children:[Object(k.jsxs)("td",{className:"p-3",children:[v.WINNING_COUNT,"\uac1c"]}),Object(k.jsx)("td",{className:"p-3",children:T(v.MONEY)}),Object(k.jsxs)("td",{className:"modal__winning-count p-3","data-rank":"fifth",children:[n[v.RANK],"\uac1c"]})]}),Object(k.jsxs)("tr",{className:"text-center",children:[Object(k.jsxs)("td",{className:"p-3",children:[f.WINNING_COUNT,"\uac1c"]}),Object(k.jsx)("td",{className:"p-3",children:T(f.MONEY)}),Object(k.jsxs)("td",{className:"modal__winning-count p-3","data-rank":"fourth",children:[n[f.RANK],"\uac1c"]})]}),Object(k.jsxs)("tr",{className:"text-center",children:[Object(k.jsxs)("td",{className:"p-3",children:[h.WINNING_COUNT,"\uac1c"]}),Object(k.jsx)("td",{className:"p-3",children:T(h.MONEY)}),Object(k.jsxs)("td",{className:"modal__winning-count p-3","data-rank":"third",children:[n[h.RANK],"\uac1c"]})]}),Object(k.jsxs)("tr",{className:"text-center",children:[Object(k.jsxs)("td",{className:"p-3",children:[x.WINNING_COUNT,"\uac1c + \ubcf4\ub108\uc2a4\ubcfc"]}),Object(k.jsx)("td",{className:"p-3",children:T(x.MONEY)}),Object(k.jsxs)("td",{className:"modal__winning-count p-3","data-rank":"second",children:[null===n||void 0===n?void 0:n[x.RANK],"\uac1c"]})]}),Object(k.jsxs)("tr",{className:"text-center",children:[Object(k.jsxs)("td",{className:"p-3",children:[m.WINNING_COUNT,"\uac1c"]}),Object(k.jsx)("td",{className:"p-3",children:T(m.MONEY)}),Object(k.jsxs)("td",{className:"modal__winning-count p-3","data-rank":"first",children:[n[m.RANK],"\uac1c"]})]})]})]})}),Object(k.jsxs)("p",{className:"modal__earning-rate text-center font-bold",children:["\ub2f9\uc2e0\uc758 \ucd1d \uc218\uc775\ub960\uc740 ",c,"%\uc785\ub2c8\ub2e4."]}),Object(k.jsx)("div",{className:"d-flex justify-center mt-5",children:Object(k.jsx)("button",{type:"button",className:"modal__restart-button btn btn-cyan",onClick:e.resetApp,children:"\ub2e4\uc2dc \uc2dc\uc791\ud558\uae30"})})]})},D=function(e){var t=e.initialTimeBySecond,n=e.onCountDownEnded,a=e.children,s=Object(c.useState)(null),r=Object(i.a)(s,2),l=r[0],j=r[1],u=Object(c.useState)(t),b=Object(i.a)(u,2),N=b[0],d=b[1];return Object(c.useEffect)((function(){var e=setInterval((function(){d((function(e){return e-1}))}),1e3);return j(e),function(){clearInterval(e)}}),[]),Object(c.useEffect)((function(){0===N&&(clearInterval(l),n())}),[N]),Object(k.jsxs)("div",{className:"count-down",children:[a,Object(k.jsx)("div",{className:"count-down__time-to-left",children:Object(k.jsxs)("p",{children:["\ub0a8\uc740 \uc2dc\uac04 : ",N]})})]})},F=function(){var e=new w,t=new C,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),u=j[0],N=j[1],d=Object(c.useState)([]),o=Object(i.a)(d,2),O=o[0],m=o[1],x=Object(c.useState)(null),h=Object(i.a)(x,2),f=h[0],v=h[1],p=Object(c.useState)(!1),_=Object(i.a)(p,2),I=_[0],M=_[1],g=Object(c.useState)(!1),A=Object(i.a)(g,2),R=A[0],E=A[1];return Object(k.jsx)("div",{id:"app",className:"d-flex justify-center mt-5",children:Object(k.jsxs)("div",{className:"w-100",children:[Object(k.jsx)("h1",{className:"text-center",children:"\ud83c\udfb1 \ud589\uc6b4\uc758 \ub85c\ub610"}),Object(k.jsx)(Y,{isDisabled:0!==s.length,onMoneySubmit:function(t){var n=e.publishLotteries(t);r(n)},isValidPayment:function(e){return!(e<=0)&&e%b===0},paymentMinUnit:b}),s.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(K,{lotteries:s}),Object(k.jsx)(G,{onWinningNumberSubmit:function(e,t){f?M(!0):(N(e),m(t),E(!0))}})]}),R&&Object(k.jsx)(D,{initialTimeBySecond:5,onCountDownEnded:function(){var e=t.getRankCount({winningNumbers:u,bonusNumber:O,lotteries:s}),n=t.getEarningRate(e,s);v({rankCount:e,earningRate:n}),M(!0)},children:Object(k.jsx)("h2",{children:"\ud83c\udf89 \ub85c\ub610 \uacb0\uacfc\uac00 \uace7 \ubc1c\ud45c\ub429\ub2c8\ub2e4! \ud83c\udf89"})}),Object(k.jsx)(W,{isModalOpen:I,closeModal:function(){M(!1)},children:I&&Object(k.jsx)(P,{winningResult:f,resetApp:function(){r([]),v(null),M(!1),N([]),m(null),E(!1)}})})]})})};n(18);r.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(F,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0eb13ba6.chunk.js.map