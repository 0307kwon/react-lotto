{"version":3,"sources":["models/Lottery.js","utils/constants.js","utils/util.js","utils/validate.js","services/LotteryMachine.js","services/ProfitCalculator.js","components/LotteriesDetail.jsx","components/PaymentForm.jsx","components/WinningNumbersForm.jsx","components/Modal.jsx","components/WinningResult.jsx","components/App.jsx","index.js"],"names":["Lottery","id","numbers","this","LOTTERY","PRIZE","RANK","WINNING_COUNT","MONEY","MESSAGE","INVALID_PAYMENT","HAS_DUPLICATED_NUMBER","SELECTOR","PAYMENT_INPUT","PAYMENT_SUBMIT","getId","getRandomNumber","min","max","Math","round","random","idMaker","formatMoney","number","Intl","NumberFormat","format","isNumber","string","test","LotteryMachine","money","Array","fill","map","next","value","size","numberSet","Set","add","getRandomNumbers","ProfitCalculator","winningNumbers","bonusNumber","lotteries","rankCount","forEach","lottery","rank","_getRank","isBonusMatched","includes","reduce","winningCount","spentMoney","length","earningRate","_calculateEarning","Number","isInteger","toFixed","prizeMoney","Object","entries","earning","count","LotteriesDetail","handleNumberDisplay","setState","isNumberVisible","state","props","className","type","onChange","join","Component","PaymentForm","componentDidUpdate","prevProps","isDisabled","handleInputCheck","target","errorInputMessage","isValidPayment","handleSubmit","event","preventDefault","onMoneySubmit","onSubmit","htmlFor","placeholder","paymentMinUnit","disabled","WinningNumbersForm","values","inputs","winningNumberInputs","bonusNumberInput","isSubmit","onWinningNumberSubmit","input","handleWinningNumberChange","targetIndex","dataset","index","handleBonusNumberChange","_","data-index","required","Modal","isModalOpen","onClick","closeModal","viewBox","d","children","WinningResult","winningResult","data-rank","resetApp","App","profitCalculator","getRankCount","getEarningRate","isResultModalOpen","closeResultModal","lotteryMachine","publishLotteries","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4b66aa4.chunk.js","sourcesContent":["export default class Lottery {\r\n  constructor(id, numbers) {\r\n    this.id = id;\r\n    this.numbers = numbers;\r\n  }\r\n}\r\n","export const MAX_PAYMENT = 100000;\r\n\r\nexport const LOTTERY = {\r\n  PRICE: 1000,\r\n  NUMBER_COUNT: 6,\r\n  MIN_NUMBER: 1,\r\n  MAX_NUMBER: 45,\r\n};\r\n\r\nexport const RANK = {\r\n  FIRST: 1,\r\n  SECOND: 2,\r\n  THIRD: 3,\r\n  FOURTH: 4,\r\n  FIFTH: 5,\r\n};\r\n\r\nexport const PRIZE = {\r\n  FIRST: {\r\n    RANK: 1,\r\n    WINNING_COUNT: 6,\r\n    MONEY: 2000000000,\r\n  },\r\n  SECOND: {\r\n    RANK: 2,\r\n    WINNING_COUNT: 5,\r\n    MONEY: 30000000,\r\n  },\r\n  THIRD: {\r\n    RANK: 3,\r\n    WINNING_COUNT: 5,\r\n    MONEY: 1500000,\r\n  },\r\n  FOURTH: {\r\n    RANK: 4,\r\n    WINNING_COUNT: 4,\r\n    MONEY: 50000,\r\n  },\r\n  FIFTH: {\r\n    RANK: 5,\r\n    WINNING_COUNT: 3,\r\n    MONEY: 5000,\r\n  },\r\n};\r\n\r\nexport const MESSAGE = {\r\n  PAYMENT_FORM: {\r\n    INVALID_PAYMENT: '올바른 금액을 입력해 주세요.',\r\n  },\r\n  WINNING_NUMBERS_FORM: {\r\n    HAS_DUPLICATED_NUMBER: '중복인 숫자가 포함되어 있습니다.',\r\n  },\r\n};\r\n\r\nexport const SELECTOR = {\r\n  ID: {\r\n    PAYMENT_INPUT: 'payment-input',\r\n    PAYMENT_SUBMIT: 'payment-submit',\r\n  },\r\n};\r\n","const getRandomNumber = (min, max) => {\r\n  return Math.round((1 - Math.random()) * (max - min)) + min;\r\n};\r\n\r\nexport const getRandomNumbers = ({ min, max, size }) => {\r\n  const numberSet = new Set();\r\n\r\n  while (numberSet.size < size) {\r\n    numberSet.add(getRandomNumber(min, max));\r\n  }\r\n\r\n  return [...numberSet];\r\n};\r\n\r\nfunction* getId() {\r\n  let id = 0;\r\n\r\n  while (true) {\r\n    yield id++;\r\n  }\r\n}\r\n\r\nexport const idMaker = getId();\r\n\r\nexport const formatMoney = number => {\r\n  return new Intl.NumberFormat('ko-KR').format(number);\r\n};\r\n","export const hasDuplicatedValue = (values) => {\r\n  const set = new Set(values);\r\n\r\n  return set.size !== values.length;\r\n};\r\n\r\nexport const isNumber = (string) => {\r\n  return !/[^0-9]/g.test(string);\r\n};\r\n","import { Lottery } from '../models';\r\nimport { getRandomNumbers, idMaker, LOTTERY } from '../utils';\r\n\r\nexport default class LotteryMachine {\r\n  publishLotteries(money) {\r\n    const lotteryAmount = money / LOTTERY.PRICE;\r\n    const lotteries = Array(lotteryAmount)\r\n      .fill(0)\r\n      .map(() => {\r\n        const id = idMaker.next().value;\r\n        const numbers = getRandomNumbers({\r\n          min: LOTTERY.MIN_NUMBER,\r\n          max: LOTTERY.MAX_NUMBER,\r\n          size: LOTTERY.NUMBER_COUNT,\r\n        });\r\n\r\n        return new Lottery(id, numbers);\r\n      });\r\n\r\n    return lotteries;\r\n  }\r\n}\r\n","import { LOTTERY, PRIZE } from '../utils';\r\n\r\nexport default class ProfitCalculator {\r\n  getRankCount({ winningNumbers, bonusNumber, lotteries }) {\r\n    const rankCount = {\r\n      [PRIZE.FIRST.RANK]: 0,\r\n      [PRIZE.SECOND.RANK]: 0,\r\n      [PRIZE.THIRD.RANK]: 0,\r\n      [PRIZE.FOURTH.RANK]: 0,\r\n      [PRIZE.FIFTH.RANK]: 0,\r\n    };\r\n\r\n    lotteries.forEach(lottery => {\r\n      const rank = this._getRank({ winningNumbers, bonusNumber, lottery });\r\n\r\n      if (rank) {\r\n        rankCount[rank]++;\r\n      }\r\n    });\r\n\r\n    return rankCount;\r\n  }\r\n\r\n  _getRank({ winningNumbers, bonusNumber, lottery }) {\r\n    const rank = {\r\n      [PRIZE.FIRST.WINNING_COUNT]: () => PRIZE.FIRST.RANK,\r\n      [PRIZE.SECOND.WINNING_COUNT]: isBonusMatched =>\r\n        isBonusMatched ? PRIZE.SECOND.RANK : PRIZE.THIRD.RANK,\r\n      [PRIZE.FOURTH.WINNING_COUNT]: () => PRIZE.FOURTH.RANK,\r\n      [PRIZE.FIFTH.WINNING_COUNT]: () => PRIZE.FIFTH.RANK,\r\n    };\r\n    const isBonusMatched = lottery.numbers.includes(bonusNumber);\r\n    const matchWinningCount = lottery.numbers.reduce((winningCount, number) => {\r\n      if (!winningNumbers.includes(number)) {\r\n        return winningCount;\r\n      }\r\n\r\n      return ++winningCount;\r\n    }, 0);\r\n\r\n    return rank[matchWinningCount]?.(isBonusMatched);\r\n  }\r\n\r\n  getEarningRate(rankCount, lotteries) {\r\n    const spentMoney = lotteries.length * LOTTERY.PRICE;\r\n    const earningRate =\r\n      (this._calculateEarning(rankCount, spentMoney) / spentMoney) * 100;\r\n\r\n    return Number.isInteger(earningRate) ? earningRate : earningRate.toFixed(2);\r\n  }\r\n\r\n  _calculateEarning(rankCount, spentMoney) {\r\n    const prizeMoney = {\r\n      [PRIZE.FIRST.RANK]: PRIZE.FIRST.MONEY,\r\n      [PRIZE.SECOND.RANK]: PRIZE.SECOND.MONEY,\r\n      [PRIZE.THIRD.RANK]: PRIZE.THIRD.MONEY,\r\n      [PRIZE.FOURTH.RANK]: PRIZE.FOURTH.MONEY,\r\n      [PRIZE.FIFTH.RANK]: PRIZE.FIFTH.MONEY,\r\n    };\r\n\r\n    return Object.entries(rankCount).reduce((earning, [rank, count]) => {\r\n      return earning + prizeMoney[rank] * count;\r\n    }, -spentMoney);\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nclass LotteriesDetail extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isNumberVisible: false,\r\n    };\r\n  }\r\n\r\n  handleNumberDisplay = () => {\r\n    this.setState({ isNumberVisible: !this.state.isNumberVisible });\r\n  };\r\n\r\n  render() {\r\n    const { isNumberVisible } = this.state;\r\n    const { lotteries } = this.props;\r\n\r\n    return (\r\n      <section className=\"mt-9\">\r\n        <div className=\"d-flex\">\r\n          <label className=\"flex-auto my-0\">\r\n            총 {lotteries.length}개를 구매하였습니다.\r\n          </label>\r\n          <div className=\"flex-auto d-flex justify-end pr-1\">\r\n            <label className=\"switch\">\r\n              <input type=\"checkbox\" onChange={this.handleNumberDisplay} />\r\n              <span className=\"text-base font-normal\">번호보기</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <ul className={`d-flex pl-0 ${isNumberVisible ? 'flex-col' : ''}`}>\r\n          {lotteries.map(lottery => (\r\n            <li className=\"d-flex items-center\" key={lottery.id}>\r\n              <span className=\"mx-1 text-4xl\">🎟️</span>\r\n              <span className={`ml-3 ${isNumberVisible ? '' : 'd-none'}`}>\r\n                {lottery.numbers.join(', ')}\r\n              </span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LotteriesDetail;\r\n","import React, { Component } from \"react\";\r\nimport { isNumber, MAX_PAYMENT, MESSAGE, SELECTOR } from \"../utils\";\r\n\r\nclass PaymentForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      money: \"\",\r\n      errorInputMessage: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidUpdate = (prevProps) => {\r\n    if (this.props.isDisabled === prevProps.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    if (!this.props.isDisabled) {\r\n      this.setState(() => ({\r\n        money: \"\",\r\n      }));\r\n    }\r\n  };\r\n\r\n  handleInputCheck = ({ target }) => {\r\n    if (!isNumber(target.value)) {\r\n      return;\r\n    }\r\n\r\n    const money = target.value;\r\n\r\n    if (money === \"\") {\r\n      this.setState({\r\n        money: \"\",\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      money,\r\n    });\r\n\r\n    const errorInputMessage = this.props.isValidPayment(money)\r\n      ? \"\"\r\n      : MESSAGE.PAYMENT_FORM.INVALID_PAYMENT;\r\n\r\n    this.setState({\r\n      errorInputMessage,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!this.props.isValidPayment(this.state.money)) {\r\n      this.setState({\r\n        errorInputMessage: MESSAGE.PAYMENT_FORM.INVALID_PAYMENT,\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    this.props.onMoneySubmit(this.state.money);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"mt-5\" onSubmit={this.handleSubmit}>\r\n        <label\r\n          className=\"mb-2 d-inline-block\"\r\n          htmlFor={SELECTOR.ID.PAYMENT_INPUT}\r\n        >\r\n          구입할 금액을 입력해주세요.\r\n        </label>\r\n        <div className=\"d-flex\">\r\n          <input\r\n            id={SELECTOR.ID.PAYMENT_INPUT}\r\n            className=\"w-100 mr-2 pl-2\"\r\n            type=\"text\"\r\n            placeholder={`구입 금액 (${this.props.paymentMinUnit}원 단위)`}\r\n            onChange={this.handleInputCheck}\r\n            max={MAX_PAYMENT}\r\n            value={this.state.money}\r\n            disabled={this.props.isDisabled}\r\n          />\r\n          <button\r\n            id={SELECTOR.ID.PAYMENT_SUBMIT}\r\n            className=\"btn btn-cyan\"\r\n            type=\"submit\"\r\n            disabled={this.props.isDisabled}\r\n          >\r\n            확인\r\n          </button>\r\n        </div>\r\n        <p>{this.state.errorInputMessage}</p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PaymentForm;\r\n","import React, { Component } from \"react\";\r\nimport { hasDuplicatedValue, isNumber, LOTTERY, MESSAGE } from \"../utils\";\r\n\r\nclass WinningNumbersForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isSubmit: false,\r\n      winningNumberInputs: Array(LOTTERY.NUMBER_COUNT).fill(\"\"),\r\n      bonusNumberInput: \"\",\r\n      errorInputMessage: \"\",\r\n    };\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const inputs = [\r\n      ...this.state.winningNumberInputs,\r\n      this.state.bonusNumberInput,\r\n    ];\r\n\r\n    if (hasDuplicatedValue(inputs)) {\r\n      this.setState({\r\n        errorInputMessage: MESSAGE.WINNING_NUMBERS_FORM.HAS_DUPLICATED_NUMBER,\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      errorInputMessage: \"\",\r\n    });\r\n    this.setState({ isSubmit: true });\r\n    this.props.onWinningNumberSubmit(\r\n      this.state.winningNumberInputs.map((input) => Number(input)),\r\n      Number(this.state.bonusNumber)\r\n    );\r\n  };\r\n\r\n  handleWinningNumberChange = ({ target }) => {\r\n    if (!isNumber(target.value)) {\r\n      return;\r\n    }\r\n\r\n    if (target.value.length > 1) {\r\n      return;\r\n    }\r\n\r\n    const targetIndex = Number(target.dataset.index);\r\n    const winningNumberInputs = this.state.winningNumberInputs.map(\r\n      (input, index) => {\r\n        if (index !== targetIndex) {\r\n          return input;\r\n        }\r\n\r\n        return target.value;\r\n      }\r\n    );\r\n\r\n    this.setState({ winningNumberInputs });\r\n  };\r\n\r\n  handleBonusNumberChange = ({ target }) => {\r\n    if (!isNumber(target.value)) {\r\n      return;\r\n    }\r\n\r\n    if (target.value.length > 1) {\r\n      return;\r\n    }\r\n\r\n    const bonusNumberInput = target.value;\r\n\r\n    this.setState({ bonusNumberInput });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className=\"mt-9\">\r\n        <label className=\"flex-auto d-inline-block mb-3\">\r\n          지난 주 당첨번호 6개와 보너스 넘버 1개를 입력해주세요.\r\n        </label>\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <h4 className=\"mt-0 mb-3 text-center\">당첨 번호</h4>\r\n            <div>\r\n              {this.state.winningNumberInputs.map((_, index) => (\r\n                <input\r\n                  key={index}\r\n                  onChange={this.handleWinningNumberChange}\r\n                  data-index={index}\r\n                  className=\"winning-number mx-1 text-center\"\r\n                  type=\"text\"\r\n                  value={this.state.winningNumberInputs[index]}\r\n                  min={LOTTERY.MIN_NUMBER}\r\n                  max={LOTTERY.MAX_NUMBER}\r\n                  required\r\n                  disabled={this.state.isSubmit}\r\n                ></input>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"bonus-number-container flex-grow\">\r\n            <h4 className=\"mt-0 mb-3 text-center\">보너스 번호</h4>\r\n            <div className=\"d-flex justify-center\">\r\n              <input\r\n                className=\"bonus-number text-center\"\r\n                onChange={this.handleBonusNumberChange}\r\n                type=\"text\"\r\n                value={this.state.bonusNumberInput}\r\n                min={LOTTERY.MIN_NUMBER}\r\n                max={LOTTERY.MAX_NUMBER}\r\n                disabled={this.state.isSubmit}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <p className=\"mt-3\">{this.state.errorInputMessage}</p>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"open-result-modal-button mt-5 btn btn-cyan w-100\"\r\n        >\r\n          결과 확인하기\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WinningNumbersForm;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Modal extends Component {\r\n  render() {\r\n    return (\r\n      <div className={`modal ${this.props.isModalOpen ? \"open\" : \"\"}`}>\r\n        <div className=\"modal-inner p-10\">\r\n          <div className=\"modal-close\" onClick={this.props.closeModal}>\r\n            <svg viewBox=\"0 0 40 40\">\r\n              <path className=\"close-x\" d=\"M 10,10 L 30,30 M 30,10 L 10,30\" />\r\n            </svg>\r\n          </div>\r\n\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport { formatMoney, PRIZE } from \"../utils\";\r\n\r\nfunction WinningResult(props) {\r\n  const { rankCount, earningRate } = props.winningResult;\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center\">🏆 당첨 통계 🏆</h2>\r\n      <div className=\"d-flex justify-center\">\r\n        <table className=\"result-table border-collapse border border-black\">\r\n          <thead>\r\n            <tr className=\"text-center\">\r\n              <th className=\"p-3\">일치 갯수</th>\r\n              <th className=\"p-3\">당첨금</th>\r\n              <th className=\"p-3\">당첨 갯수</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr className=\"text-center\">\r\n              <td className=\"p-3\">{PRIZE.FIFTH.WINNING_COUNT}개</td>\r\n              <td className=\"p-3\">{formatMoney(PRIZE.FIFTH.MONEY)}</td>\r\n              <td className=\"modal__winning-count p-3\" data-rank=\"fifth\">\r\n                {rankCount[PRIZE.FIFTH.RANK]}개\r\n              </td>\r\n            </tr>\r\n            <tr className=\"text-center\">\r\n              <td className=\"p-3\">{PRIZE.FOURTH.WINNING_COUNT}개</td>\r\n              <td className=\"p-3\">{formatMoney(PRIZE.FOURTH.MONEY)}</td>\r\n              <td className=\"modal__winning-count p-3\" data-rank=\"fourth\">\r\n                {rankCount[PRIZE.FOURTH.RANK]}개\r\n              </td>\r\n            </tr>\r\n            <tr className=\"text-center\">\r\n              <td className=\"p-3\">{PRIZE.THIRD.WINNING_COUNT}개</td>\r\n              <td className=\"p-3\">{formatMoney(PRIZE.THIRD.MONEY)}</td>\r\n              <td className=\"modal__winning-count p-3\" data-rank=\"third\">\r\n                {rankCount[PRIZE.THIRD.RANK]}개\r\n              </td>\r\n            </tr>\r\n            <tr className=\"text-center\">\r\n              <td className=\"p-3\">{PRIZE.SECOND.WINNING_COUNT}개 + 보너스볼</td>\r\n              <td className=\"p-3\">{formatMoney(PRIZE.SECOND.MONEY)}</td>\r\n              <td className=\"modal__winning-count p-3\" data-rank=\"second\">\r\n                {rankCount?.[PRIZE.SECOND.RANK]}개\r\n              </td>\r\n            </tr>\r\n            <tr className=\"text-center\">\r\n              <td className=\"p-3\">{PRIZE.FIRST.WINNING_COUNT}개</td>\r\n              <td className=\"p-3\">{formatMoney(PRIZE.FIRST.MONEY)}</td>\r\n              <td className=\"modal__winning-count p-3\" data-rank=\"first\">\r\n                {rankCount[PRIZE.FIRST.RANK]}개\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <p className=\"modal__earning-rate text-center font-bold\">\r\n        당신의 총 수익률은 {earningRate}%입니다.\r\n      </p>\r\n      <div className=\"d-flex justify-center mt-5\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"modal__restart-button btn btn-cyan\"\r\n          onClick={props.resetApp}\r\n        >\r\n          다시 시작하기\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WinningResult;\r\n","import React, { Component } from \"react\";\r\nimport { LotteryMachine, ProfitCalculator } from \"../services\";\r\nimport { LOTTERY } from \"../utils\";\r\nimport LotteriesDetail from \"./LotteriesDetail\";\r\nimport PaymentForm from \"./PaymentForm\";\r\nimport WinningNumbersForm from \"./WinningNumbersForm\";\r\nimport Modal from \"./Modal\";\r\nimport WinningResult from \"./WinningResult\";\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.lotteryMachine = new LotteryMachine();\r\n    this.profitCalculator = new ProfitCalculator();\r\n    this.state = {\r\n      lotteries: [],\r\n      winningResult: null,\r\n      isResultModalOpen: false,\r\n    };\r\n  }\r\n\r\n  onWinningNumberSubmit = (winningNumbers, bonusNumber) => {\r\n    const rankCount = this.profitCalculator.getRankCount({\r\n      winningNumbers,\r\n      bonusNumber,\r\n      lotteries: this.state.lotteries,\r\n    });\r\n    const earningRate = this.profitCalculator.getEarningRate(\r\n      rankCount,\r\n      this.state.lotteries\r\n    );\r\n\r\n    this.setState({\r\n      winningResult: { rankCount, earningRate },\r\n      isResultModalOpen: true,\r\n    });\r\n  };\r\n\r\n  closeResultModal = () => {\r\n    this.setState({ isResultModalOpen: false });\r\n  };\r\n\r\n  resetApp = () => {\r\n    this.setState({\r\n      lotteries: [],\r\n      winningResult: null,\r\n      isResultModalOpen: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { lotteries, winningResult, isResultModalOpen } = this.state;\r\n\r\n    return (\r\n      <div id=\"app\" className=\"d-flex justify-center mt-5\">\r\n        <div className=\"w-100\">\r\n          <h1 className=\"text-center\">🎱 행운의 로또</h1>\r\n          <PaymentForm\r\n            isDisabled={lotteries.length !== 0}\r\n            onMoneySubmit={(money) => {\r\n              const lotteries = this.lotteryMachine.publishLotteries(money);\r\n\r\n              this.setState({ lotteries });\r\n            }}\r\n            isValidPayment={(value) => value > 0 && value % LOTTERY.PRICE === 0}\r\n            paymentMinUnit={LOTTERY.PRICE}\r\n          />\r\n          {lotteries.length > 0 && (\r\n            <>\r\n              <LotteriesDetail lotteries={lotteries} />\r\n              <WinningNumbersForm\r\n                onWinningNumberSubmit={this.onWinningNumberSubmit}\r\n              />\r\n            </>\r\n          )}\r\n          <Modal\r\n            isModalOpen={isResultModalOpen}\r\n            closeModal={this.closeResultModal}\r\n          >\r\n            {isResultModalOpen && (\r\n              <WinningResult\r\n                winningResult={winningResult}\r\n                resetApp={this.resetApp}\r\n              />\r\n            )}\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './css/index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}